{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Dashboard</title>
    <link
      rel="stylesheet"
      href="{% static 'plugins/bootstrap/bootstrap.min.css' %}"
    />
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <style>
      /* Hide the radio button */
      .hidden {
        display: none;
      }
      .text-error {
        color: red;
        font-size: 0.9em;
        margin-top: 5px;
      }
    </style>
  </head>
  <body>
    {% include "header.html" %} {% include "nav.html" %}

    <div class="container" style="margin-top: 250px; margin-bottom: 100px">
      <h2 class="text-center">Register Now and Start Learning!</h2>
      {% if messages %}
      <div class="alert alert-info mt-3">
        {% for message in messages %}
        <p>{{ message }}</p>
        {% endfor %}
      </div>
      {% endif %}
      <!-- Create a row for the form and image -->
      <div class="row align-items-center mt-5">
        {% if msg %}
        <span class="text-error">{{ msg }}</span>
        {% endif %}
        <!-- Left Column: Registration Form -->
        <div class="col-md-6">
          <div class="register">
            <form method="POST" enctype="multipart/form-data" class="row">
              {% csrf_token %}

              <!-- Hidden Role Selection -->
              <input type="hidden" name="role" value="student" required />

              <!-- Name Field -->
              <div class="col-12">
                <input
                  type="text"
                  class="form-control mb-3"
                  id="signupName"
                  name="username"
                  placeholder="Name"
                  required
                />
                <span class="text-error">{{ form.username.errors }}</span>
              </div>
              <!-- First Name Field -->
              <div class="col-12">
                <input
                  type="text"
                  class="form-control mb-3"
                  id="signupFirstName"
                  name="first_name"
                  placeholder="First Name"
                  required
                />
                <span class="text-error">{{ form.first_name.errors }}</span>
              </div>

              <!-- Last Name Field -->
              <div class="col-12">
                <input
                  type="text"
                  class="form-control mb-3"
                  id="signupLastName"
                  name="last_name"
                  placeholder="Last Name"
                  required
                />
                <span class="text-error">{{ form.last_name.errors }}</span>
              </div>

              <!-- Email Field -->
              <div class="col-12">
                <input
                  type="email"
                  class="form-control mb-3"
                  id="signupEmail"
                  name="email"
                  placeholder="Email"
                  required
                />
                <span class="text-error">{{ form.email.errors }}</span>
              </div>

              <!-- Password Field -->
              <div class="col-12">
                <input
                  type="password"
                  class="form-control mb-3"
                  id="signupPassword"
                  name="password1"
                  placeholder="Password"
                  required
                />
                <span class="text-error">{{ form.password1.errors }}</span>
              </div>

              <!-- Password Confirmation -->
              <div class="col-12">
                <input
                  type="password"
                  class="form-control mb-3"
                  id="signupPasswordConfirm"
                  name="password2"
                  placeholder="Confirm Password"
                  required
                />
                <span class="text-error">{{ form.password2.errors }}</span>
              </div>

              <!-- Profile Picture Upload -->
              <div class="col-12">
                <input
                  type="file"
                  name="face_image"
                  accept="image/*"
                  class="form-control mb-3"
                  required
                />
                <span class="text-error">{{ form.face_image.errors }}</span>
              </div>

              <!-- About Me Field -->
              <div class="col-12">
                <textarea
                  class="form-control mb-3"
                  id="aboutMe"
                  name="about_me"
                  placeholder="About Me"
                  rows="3"
                ></textarea>
                <span class="text-error">{{ form.about_me.errors }}</span>
              </div>

              <!-- Address Field -->
              <div class="col-12">
                <input
                  type="text"
                  class="form-control mb-3"
                  id="address"
                  name="address"
                  placeholder="Address"
                />
                <span class="text-error">{{ form.address.errors }}</span>
              </div>

              <!-- Phone Field -->
              <div class="col-12">
                <input
                  type="text"
                  class="form-control mb-3"
                  id="phone"
                  name="phone"
                  placeholder="Phone (optional)"
                />
                <span class="text-error">{{ form.phone.errors }}</span>
              </div>

              <!-- Privacy Policy Agreement -->
              <div class="col-12 mb-3">
                <div class="custom-control custom-checkbox">
                  <input
                    class="custom-control-input"
                    id="customCheckRegister"
                    type="checkbox"
                    required
                  />
                  <label class="custom-control-label" for="customCheckRegister">
                    <span class="text-muted"
                      >I agree with the <a href="#!">Privacy Policy</a></span
                    >
                  </label>
                </div>
              </div>

              <!-- Submit Button -->
              <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary w-50">
                  SIGN UP
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Right Column: Image -->
        <div class="col-md-6 text-center">
          <img
            src="{% static 'images/register.png' %}"
            class="img-fluid"
            alt="Register illustration"
            style="max-width: 100%; height: auto; margin-left: 70px"
          />
        </div>
      </div>
    </div>

    <!-- Necessary Scripts -->
    {% include 'script.html' %} {% include 'footer.html' %}
  </body>
</html>
